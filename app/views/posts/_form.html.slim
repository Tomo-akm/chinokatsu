- if @general_content
  - content = @general_content
  - param_name = :general_content
  - if @post.new_record?
    - url = posts_path
    - method = :post
  - else
    - url = post_path(@post)
    - method = :patch
- elsif @job_hunting_content
  - content = @job_hunting_content
  - param_name = :job_hunting_content
  - if @post.new_record?
    - url = job_hunting_contents_path
    - method = :post
  - else
    - url = post_path(@post)
    - method = :patch

= form_with(model: content, url: url, scope: param_name) do |form|
  / 就活投稿の場合は追加フィールドを表示
  - if @job_hunting_content
    .form-group
      = form.label :company_name, "企業名", class: "form-label required"
      = form.text_field :company_name, class: "form-input", placeholder: "例：株式会社〇〇"

    .form-group
      = form.label :selection_stage, "選考段階", class: "form-label required"
      = form.select :selection_stage, JobHuntingContent.selection_stages_for_select, { prompt: "選択してください" }, class: "form-select"

    .form-group
      = form.label :result, "結果", class: "form-label required"
      = form.select :result, JobHuntingContent.results_for_select, { prompt: "選択してください" }, class: "form-select"

  .form-group
    = form.label :content, "内容", class: "form-label required"
    = form.text_area :content, class: "form-textarea", rows: 5, placeholder: "就活のcommitメッセージを書いてください"

  / 通常投稿の場合のみタグを表示
  - if @general_content
    .form-group
      = label_tag "post[tag_names]", "タグ", class: "form-label"
      = text_field_tag "post[tag_names]", @post.tag_names, class: "form-input", placeholder: "就活, 面接, エンジニア（カンマ区切り）"
      .form-help タグをカンマ区切りで入力してください。例：就活, 面接, エンジニア

  .text-center
    = form.submit (@post.new_record? ? "push する" : "merge する"), class: "btn btn-gradient-primary btn-lg"