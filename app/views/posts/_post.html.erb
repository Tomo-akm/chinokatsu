<div id="<%= dom_id post %>" class="card shadow-sm bg-white text-dark">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <%= link_to user_profile_path(post.user), class: "text-muted small text-decoration-none" do %>
        <i class="bi bi-person"></i> <%= post.user.name %>
      <% end %>
      <span class="text-muted small"><i class="bi bi-clock"></i> <%= post.created_at.strftime("%Y/%m/%d %H:%M") %></span>
    </div>
    <div class="card-text fs-6 mb-3">
      <%= simple_format(h(post.content)) %>
    </div>
    
    <hr class="my-3">
    
    <!-- タグ表示 -->
    <% if post.tags.any? %>
      <div class="mb-3">
        <% post.tags.each do |tag| %>
          <%= link_to tag_path(tag.name), class: "text-decoration-none" do %>
            <span class="badge bg-light text-dark me-1">#<%= tag.name %></span>
          <% end %>
        <% end %>
      </div>
    <% end %>
    
    <div class="d-flex flex-wrap gap-2 justify-content-end">
      <% if user_signed_in? && post.user == current_user %>
        <%= link_to "rebase", edit_post_path(post), class: "btn btn-outline-secondary btn-sm" %>
        <%= button_to "revert", post, method: :delete, class: "btn btn-outline-danger btn-sm", data: { confirm: "本当にrevertしますか？" } %>
      <% end %>
    </div>
  </div>
</div>
